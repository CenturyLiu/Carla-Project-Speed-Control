# Carla-Project-Speed-Control
Codes for control forward speed of four-wheel vehicles in [CARLA](https://carla.org/2020/04/22/release-0.9.9/)

## Introduction

This project intends to provide custom ways for four-wheel vehicles in Carla to stay at constant speed. The project haven't been finished.
Currently, a [throttle-only version](https://github.com/CenturyLiu/Carla-Project-Speed-Control/blob/master/draft/throttle_only_control.ipynb) of forward speed control is created. In the 
future, I will also include the usage of brake and gears to make the acceleration and deceleration more efficient.

## Installation
This project is written for [CARLA](https://carla.org/2020/04/22/release-0.9.9/) and uses the [Python-control](https://python-control.readthedocs.io/en/0.8.3/intro.html#)
library to implement a discrete PI controller. 

- Install CARLA
  Follow instructions on [CARLA document](https://carla.readthedocs.io/en/latest/) to install CARLA.

- Install Python-control
  Follow instructions on [Python-control](https://python-control.readthedocs.io/en/0.8.3/intro.html#) to install python-control.

Once these dependencies has been installed, copy the files in draft folder to anywhere on your computer you like. Then launch CARLA and run the codes in  [throttle-only-control](https://github.com/CenturyLiu/Carla-Project-Speed-Control/blob/master/draft/throttle_only_control.ipynb) to see a demo of changing and holding the vehicle speed.

## Demo
Currently, only a throttle control version is implemented. Here is a demo of what throttle control is like:

![demo figure](https://github.com/CenturyLiu/Carla-Project-Speed-Control/blob/master/draft/change_speed_90_36_64.8.png)
> The plot showing the reference speed, throttle signal and real speed of a Tesla model. The plot is generated by the [throttle-only-control](https://github.com/CenturyLiu/Carla-Project-Speed-Control/blob/master/draft/throttle_only_control.ipynb)

![demo gif](https://github.com/CenturyLiu/Carla-Project-Speed-Control/blob/master/draft/speed_control_demo.gif)
> The gif showing the Tesla model changing speed inside CARLA simulator.
